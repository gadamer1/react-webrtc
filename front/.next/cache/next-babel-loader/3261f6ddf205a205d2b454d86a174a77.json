{"ast":null,"code":"var _jsxFileName = \"/Users/gadamer1/Documents/webdev/react-webrtc/front/pages/index.js\";\nvar __jsx = React.createElement;\nimport React, { useRef } from \"react\";\n\nvar index = function index() {\n  var videoRef = useRef();\n  var localStream;\n  var mediaStreamConstraints = {\n    video: true,\n    audio: true\n  };\n\n  var gotLocalMediaStream = function gotLocalMediaStream(mediaStream) {\n    localStream = mediaStream;\n    videoRef.current.srcObject = mediaStream;\n  };\n\n  function handleLocalMediaStreamError(error) {\n    console.log(\"navigator.getUserMedia error: \", error);\n  }\n\n  var onClickButton = function onClickButton() {\n    navigator.mediaDevices.getUserMedia(mediaStreamConstraints).then(gotLocalMediaStream)[\"catch\"](handleLocalMediaStreamError);\n    localStream.getVideoTracks()[0].stop();\n  };\n\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"Realtime communication with WebRTC\"), __jsx(\"video\", {\n    autoPlay: true,\n    playsinline: true,\n    ref: videoRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }), __jsx(\"button\", {\n    onClick: onClickButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, \"\\uCE74\\uBA54\\uB77C \\uC624\\uD508\"));\n};\n\nexport default index;","map":{"version":3,"sources":["/Users/gadamer1/Documents/webdev/react-webrtc/front/pages/index.js"],"names":["React","useRef","index","videoRef","localStream","mediaStreamConstraints","video","audio","gotLocalMediaStream","mediaStream","current","srcObject","handleLocalMediaStreamError","error","console","log","onClickButton","navigator","mediaDevices","getUserMedia","then","getVideoTracks","stop"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,QAA8B,OAA9B;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AAClB,MAAMC,QAAQ,GAAGF,MAAM,EAAvB;AACA,MAAIG,WAAJ;AACA,MAAMC,sBAAsB,GAAG;AAC7BC,IAAAA,KAAK,EAAE,IADsB;AAE7BC,IAAAA,KAAK,EAAE;AAFsB,GAA/B;;AAKA,MAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAAC,WAAW,EAAI;AACzCL,IAAAA,WAAW,GAAGK,WAAd;AACAN,IAAAA,QAAQ,CAACO,OAAT,CAAiBC,SAAjB,GAA6BF,WAA7B;AACD,GAHD;;AAKA,WAASG,2BAAT,CAAqCC,KAArC,EAA4C;AAC1CC,IAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ,EAA8CF,KAA9C;AACD;;AAED,MAAMG,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1BC,IAAAA,SAAS,CAACC,YAAV,CACGC,YADH,CACgBd,sBADhB,EAEGe,IAFH,CAEQZ,mBAFR,WAGSI,2BAHT;AAIAR,IAAAA,WAAW,CAACiB,cAAZ,GAA6B,CAA7B,EAAgCC,IAAhC;AACD,GAND;;AAQA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CADF,EAEE;AAAO,IAAA,QAAQ,MAAf;AAAgB,IAAA,WAAW,MAA3B;AAA4B,IAAA,GAAG,EAAEnB,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE;AAAQ,IAAA,OAAO,EAAEa,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAHF,CADF;AAOD,CAhCD;;AAkCA,eAAed,KAAf","sourcesContent":["import React, { useRef } from \"react\";\n\nconst index = () => {\n  const videoRef = useRef();\n  let localStream;\n  const mediaStreamConstraints = {\n    video: true,\n    audio: true\n  };\n\n  const gotLocalMediaStream = mediaStream => {\n    localStream = mediaStream;\n    videoRef.current.srcObject = mediaStream;\n  };\n\n  function handleLocalMediaStreamError(error) {\n    console.log(\"navigator.getUserMedia error: \", error);\n  }\n\n  const onClickButton = () => {\n    navigator.mediaDevices\n      .getUserMedia(mediaStreamConstraints)\n      .then(gotLocalMediaStream)\n      .catch(handleLocalMediaStreamError);\n    localStream.getVideoTracks()[0].stop();\n  };\n\n  return (\n    <div>\n      <h1>Realtime communication with WebRTC</h1>\n      <video autoPlay playsinline ref={videoRef} />\n      <button onClick={onClickButton}>카메라 오픈</button>\n    </div>\n  );\n};\n\nexport default index;\n"]},"metadata":{},"sourceType":"module"}